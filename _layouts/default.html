<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}"
    />
    {% seo %} {% include head-custom.html %}
  </head>

  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <header class="inner">
        {% if site.github.is_project_page %}
         <div class="github-banner">
          <div class="github-banner">   
           <a id="forkme_banner" href="{{ site.github.repository_url }}" >View on GitHub</a>
           </div>
        {% endif %}

        <h1 id="project_title">
          Recipe For a Five-Star Rating
        </h1>
        <h2 id="project_tagline">
          Analysis on Recipe Data and its trends on Ratings
        </h2>
      </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section
        id="main_content"
        class="inner"
        style="max-width: 1000px; margin: 0 auto"
      >
        <h2>Introduction</h2>
        <p>
            Welcome to a report on the investigation into a dataset on Recipes and Ratings.
            Using the data from food.com structured as listed below, I set out to predict what types of recipes tend to have higher average ratings using data visualization and regression topics... (expand).
          </p>
          
          <div style="display: flex; gap: 40px; flex-wrap: wrap;">
          
            <!-- Recipes Table -->
            <div style="flex: 1;">
              <h3>Recipes</h3>
              <table>
                <thead>
                  <tr><th>Column</th><th>Description</th></tr>
                </thead>
                <tbody>
                  <tr><td>'name'</td><td>Recipe name</td></tr>
                  <tr><td>'id'</td><td>Recipe ID</td></tr>
                  <tr><td>'minutes'</td><td>Minutes to prepare recipe</td></tr>
                  <tr><td>'contributor_id'</td><td>User ID who submitted this recipe</td></tr>
                  <tr><td>'submitted'</td><td>Date recipe was submitted</td></tr>
                  <tr><td>'tags'</td><td>Food.com tags for recipe</td></tr>
                  <tr><td>'nutrition'</td><td>Nutrition info: [calories, total fat, sugar, sodium, protein, saturated fat, carbs]</td></tr>
                  <tr><td>'n_steps'</td><td>Number of steps in recipe</td></tr>
                  <tr><td>'steps'</td><td>Text for recipe steps, in order</td></tr>
                  <tr><td>'description'</td><td>User-provided description</td></tr>
                </tbody>
              </table>
            </div>
          
            <!-- Ratings Table -->
            <div style="flex: 1;">
              <h3>Ratings</h3>
              <table>
                <thead>
                  <tr><th>Column</th><th>Description</th></tr>
                </thead>
                <tbody>
                  <tr><td>'user_id'</td><td>User ID</td></tr>
                  <tr><td>'recipe_id'</td><td>Recipe ID</td></tr>
                  <tr><td>'date'</td><td>Date of interaction</td></tr>
                  <tr><td>'rating'</td><td>Rating given</td></tr>
                  <tr><td>'review'</td><td>Review text</td></tr>
                </tbody>
              </table>
            </div>
          
          </div>

        <h2>Data Cleaning and Exploratory Data Analysis</h2>
        <p>
            To explore and prepare the dataset for analysis, I first performed several cleaning and transformation steps to ensure the data was usable and meaningful for evaluating recipe ratings.

            Merging Datasets:
            I began by merging the Recipes and Ratings datasets into a single DataFrame. Since each recipe can have multiple ratings, I performed a left merge using the id column from the Recipes table and the recipe_id column from the Ratings table.
            
            Average Rating:
            Because each recipe has multiple user-submitted ratings, I calculated the average rating for each recipe using groupby on recipe_id and taking the mean of the rating values. I then mapped the resulting Series back to the full DataFrame using the id column. Before this, I replaced any rating values of 0 with NaN to avoid skewing the average.
            
            Review Count:
            I was curious whether the number of reviews a recipe received correlated with its average rating. To explore this, I created a review_count column by using value_counts() on the recipe_id column and then mapping those counts back to the full dataset using the id column. I also filled any missing values with 0.
            
            Health Score:
            To examine whether a recipe's healthiness impacted its rating, I created a health_score based on the nutritional data provided in the dataset. I extracted individual nutritional values into separate columns (e.g., sugar, protein, sodium), assumed each recipe serves four people, and adjusted the values accordingly.
            
            I then applied a weighting system to reflect the nutritional value of each component:
            
            Positive weight: Protein (+2)
            
            Negative weights: Sugar (-1.8), saturated fat (-1.5), total fat, carbs, calories (-1 each), and sodium (-0.5)
            
            The resulting health_score was negative for healthier recipes and positive for less healthy ones, so I flipped the sign so that higher scores indicate unhealthier recipes.
            
            Initially, some scores were unrealistically high (e.g., over 100,000), due to outliers such as a single recipe having a sugar PDV of 30,000. To address this, I clipped extreme health score values, keeping only recipes between the 1st and 98th percentile. This reduced the total number of recipes from about 23,000 to 22,000, the mean score from 62 to 49, and the standard deviation from 147 to 48. The maximum score also dropped dramatically from over 16,000 to 329, making the data much more interpretable.
            
            Recipe Duration (Minutes):
            Finally, I addressed outliers in the minutes column, which included some recipes that supposedly took months to prepare. I clipped the top and bottom 1% of the minutes distribution to focus on recipes with more realistic preparation times.
        </p>

        <h2>Framing a Prediction Problem</h2>
        <p>
          Define your prediction target and describe how you're framing the ML
          task (classification, regression, etc.).
        </p>

        <h2>Step 4: Baseline Model</h2>
        <p>
          Describe the simplest model you tried and how it performed. Include
          performance metrics like accuracy, precision, recall, etc.
        </p>

        <h2>Step 5: Final Model</h2>
        <p>
          Explain your final model and how it compares to your baseline. Justify
          your modeling choices and highlight final evaluation results.
        </p>

        <p>For details and code, see the full analysis notebook on GitHub.</p>
      </section>
    </div>

    <!-- FOOTER -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        {% if site.github.is_project_page %}
        <p class="copyright">
          {{ site.title | default: site.github.repository_name }} maintained by
          <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>
        </p>
        {% endif %}
        <p>
          Published with <a href="https://pages.github.com">GitHub Pages</a>
        </p>
      </footer>
    </div>
  </body>
</html>
