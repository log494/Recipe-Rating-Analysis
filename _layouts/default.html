<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="assets/css/style.css"
    />
    <title>Recipe For a Five-Star Rating</title>
  </head>

  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <header class="inner">
        <h1 id="project_title">Recipe For a Five-Star Rating</h1>
        <h2 id="project_tagline">
          Analysis on Recipe Data and its Trends on Ratings
        </h2>
      </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section
        id="main_content"
        class="inner"
        style="max-width: 1000px; margin: 0 auto"
      >
        <h2>Introduction</h2>
        <p>
          Welcome to a report on the investigation into a dataset on Recipes and Ratings.
          Using data from food.com, I set out to predict what types of recipes tend to have higher average ratings using data visualization and regression techniques.
        </p>

        <div style="display: flex; gap: 40px; flex-wrap: wrap;">
          <div style="flex: 1;">
            <h3>Recipes</h3>
            <table>
              <thead>
                <tr><th>Column</th><th>Description</th></tr>
              </thead>
              <tbody>
                <tr><td>name</td><td>Recipe name</td></tr>
                <tr><td>id</td><td>Recipe ID</td></tr>
                <tr><td>minutes</td><td>Minutes to prepare recipe</td></tr>
                <tr><td>contributor_id</td><td>User ID who submitted this recipe</td></tr>
                <tr><td>submitted</td><td>Date recipe was submitted</td></tr>
                <tr><td>tags</td><td>Food.com tags for recipe</td></tr>
                <tr><td>nutrition</td><td>Nutrition info: [calories, total fat, sugar, sodium, protein, saturated fat, carbs]</td></tr>
                <tr><td>n_steps</td><td>Number of steps in recipe</td></tr>
                <tr><td>steps</td><td>Text for recipe steps, in order</td></tr>
                <tr><td>description</td><td>User-provided description</td></tr>
              </tbody>
            </table>
          </div>

          <div style="flex: 1;">
            <h3>Ratings</h3>
            <table>
              <thead>
                <tr><th>Column</th><th>Description</th></tr>
              </thead>
              <tbody>
                <tr><td>user_id</td><td>User ID</td></tr>
                <tr><td>recipe_id</td><td>Recipe ID</td></tr>
                <tr><td>date</td><td>Date of interaction</td></tr>
                <tr><td>rating</td><td>Rating given</td></tr>
                <tr><td>review</td><td>Review text</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <h2>Data Cleaning and Exploratory Data Analysis</h2>
        <p>I merged the Recipes and Ratings datasets and performed a series of transformations to clean the data and extract meaningful features for modeling.</p>

        <h3>Key Steps:</h3>
        <ul>
          <li>Removed rating 0 entries and computed average rating per recipe.</li>
          <li>Created a review count column using value_counts on recipe_id.</li>
          <li>Engineered a <strong>health_score</strong> based on nutritional values using a weighted scoring system. Outliers were clipped to improve distribution.</li>
          <li>Trimmed extreme prep time values by clipping top and bottom 1% in the <code>minutes</code> column.</li>
        </ul>

        <h3>Interactive EDA Plot</h3>
        <iframe
          src="assets/eda-plot.html"
          width="800"
          height="600"
          frameborder="0"
        ></iframe>

        <h2>Framing a Prediction Problem</h2>
        <p>
          My prediction target is the <code>avg_rating</code> of each recipe. I framed this as a <strong>regression</strong> problem since the goal is to predict a continuous score between 0 and 5. Features used include:
        </p>
        <ul>
          <li>minutes</li>
          <li>n_steps</li>
          <li>review_count</li>
          <li>health_score</li>
        </ul>

        <h2>Baseline Model</h2>
        <p>
          I started with a <strong>Linear Regression</strong> model. It achieved:
        </p>
        <ul>
          <li>Mean Squared Error (MSE): <strong>0.58</strong></li>
          <li>R² Score: <strong>0.12</strong></li>
        </ul>
        <p>
          While simple, this model didn’t capture complex relationships in the data.
        </p>

        <h2>Final Model</h2>
        <p>
          I trained a <strong>Random Forest Regressor</strong> which improved performance:
        </p>
        <ul>
          <li>Mean Squared Error (MSE): <strong>0.45</strong></li>
          <li>R² Score: <strong>0.35</strong></li>
        </ul>
        <p>
          This model was better at handling non-linear patterns and interactions between features.
        </p>

        <h3>Feature Importance</h3>
        <iframe
          src="assets/feature-importance.html"
          width="800"
          height="600"
          frameborder="0"
        ></iframe>

        <h3>Residual Plot</h3>
        <iframe
          src="assets/residuals.html"
          width="800"
          height="600"
          frameborder="0"
        ></iframe>

        <p>For full code and details, visit the <a href="https://github.com/YOUR_USERNAME/YOUR_REPO">GitHub repository</a>.</p>
      </section>
    </div>

    <!-- FOOTER -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Created by Nadia Sau | nadia@email.com</p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
