<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}"
    />
    {% seo %}
    {% include head-custom.html %}
    <title>Recipe For a Five-Star Rating</title>
  </head>

  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <header class="inner">
        {% if site.github.is_project_page %}
          <div class="github-banner">
            <a id="forkme_banner" href="{{ site.github.repository_url }}">View on GitHub</a>
          </div>
        {% endif %}

        <h1 id="project_title">Recipe For a Five-Star Rating</h1>
        <h2 id="project_tagline">
          Analysis on Recipe Data and its Trends on Ratings
        </h2>
      </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section
        id="main_content"
        class="inner"
        style="max-width: 1000px; margin: 0 auto"
      >
        <h2>Introduction</h2>
        <p>
          Welcome to a report on the investigation into a dataset on Recipes and Ratings.
          Using data from food.com, I set out to predict what types of recipes tend to have higher average ratings using data visualization and regression techniques.
        </p>

        <!-- Dataset Tables -->
        <div style="display: flex; gap: 40px; flex-wrap: wrap;">
          <div style="flex: 1;">
            <h3>Recipes</h3>
            <table>
              <thead>
                <tr><th>Column</th><th>Description</th></tr>
              </thead>
              <tbody>
                <tr><td>name</td><td>Recipe name</td></tr>
                <tr><td>id</td><td>Recipe ID</td></tr>
                <tr><td>minutes</td><td>Minutes to prepare recipe</td></tr>
                <tr><td>contributor_id</td><td>User ID who submitted this recipe</td></tr>
                <tr><td>submitted</td><td>Date recipe was submitted</td></tr>
                <tr><td>tags</td><td>Food.com tags for recipe</td></tr>
                <tr><td>nutrition</td><td>Nutrition info: [calories, fat, sugar, sodium, protein, sat. fat, carbs]</td></tr>
                <tr><td>n_steps</td><td>Number of steps</td></tr>
                <tr><td>steps</td><td>Step-by-step instructions</td></tr>
                <tr><td>description</td><td>User-provided recipe description</td></tr>
              </tbody>
            </table>
          </div>

          <div style="flex: 1;">
            <h3>Ratings</h3>
            <table>
              <thead>
                <tr><th>Column</th><th>Description</th></tr>
              </thead>
              <tbody>
                <tr><td>user_id</td><td>User ID</td></tr>
                <tr><td>recipe_id</td><td>Recipe ID</td></tr>
                <tr><td>date</td><td>Date of rating</td></tr>
                <tr><td>rating</td><td>Rating given</td></tr>
                <tr><td>review</td><td>User review text</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <h2>Data Cleaning and Exploratory Data Analysis</h2>
        <p>I merged the Recipes and Ratings datasets and performed data cleaning and feature engineering steps to prepare for modeling.</p>

        <ul>
          <li>Removed ratings of 0 and computed average rating per recipe.</li>
          <li>Created a <code>review_count</code> feature using <code>value_counts</code>.</li>
          <li>Engineered a <strong>health_score</strong> using weighted nutrition values and clipped extreme outliers.</li>
          <li>Trimmed top and bottom 1% values from <code>minutes</code> to remove unrealistic durations.</li>
        </ul>

        <h3>Exploratory Plot</h3>
        <iframe
          src="assets/eda-plot.html"
          width="800"
          height="600"
          frameborder="0"
        ></iframe>

        <h2>Framing a Prediction Problem</h2>
        <p>
          The prediction target is <code>avg_rating</code>, a continuous value between 0 and 5. I framed this as a <strong>regression</strong> problem using features such as:
        </p>
        <ul>
          <li><code>minutes</code></li>
          <li><code>n_steps</code></li>
          <li><code>review_count</code></li>
          <li><code>health_score</code></li>
        </ul>

        <h2>Baseline Model</h2>
        <p>
          I started with a <strong>Linear Regression</strong> model. Results:
        </p>
        <ul>
          <li>Mean Squared Error (MSE): 0.58</li>
          <li>R² Score: 0.12</li>
        </ul>
        <p>This model provided a weak but useful baseline.</p>

        <h2>Final Model</h2>
        <p>
          I used a <strong>Random Forest Regressor</strong> with hyperparameter tuning. Results:
        </p>
        <ul>
          <li>Mean Squared Error (MSE): 0.45</li>
          <li>R² Score: 0.35</li>
        </ul>
        <p>It captured non-linear relationships and performed significantly better than the baseline.</p>

        <h3>Feature Importance</h3>
        <iframe
          src="assets/feature-importance.html"
          width="800"
          height="600"
          frameborder="0"
        ></iframe>

        <h3>Residuals Plot</h3>
        <iframe
          src="assets/residuals.html"
          width="800"
          height="600"
          frameborder="0"
        ></iframe>

        <p>See full code and analysis in the <a href="{{ site.github.repository_url }}">GitHub repository</a>.</p>
      </section>
    </div>


  </body>
</html>
